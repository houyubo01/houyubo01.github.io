<hr>
<p>layout: docs<br>title: 页面配置<br>group: docs-v4<br>order: 401<br>short_title: 4. 页面配置<br>sidebar: [docs-v4, toc]<br>mathjax: true<br>disqus:<br>  path: /</p>
<hr>
<h2 id="页面布局模板"><a href="#页面布局模板" class="headerlink" title="页面布局模板"></a>页面布局模板</h2><h3 id="布局模板"><a href="#布局模板" class="headerlink" title="布局模板"></a>布局模板</h3><p>{% table %}<br>| 取值  | 含义  |<br>| :—– | :—-  |<br>| page | 独立页面 |<br>| post | 文章页面 |<br>| docs | 文档页面 |<br>| category | 分类页面 |<br>| tag | 标签页面 |<br>| friends | 友链页面 |<br>| list | 列表页面 |<br>{% endtable %}</p>
<h3 id="page-amp-post-amp-docs"><a href="#page-amp-post-amp-docs" class="headerlink" title="page &amp; post &amp; docs"></a>page &amp; post &amp; docs</h3><p>这三种页面相同，但是有以下细微区别：</p>
<ul>
<li>post 文章有 title 时，向下滚动网页，导航栏会向上移出屏幕显出文章标题，而 page 和 docs 不会。</li>
<li>post 文章末尾最多可以显示「参考资料」、「相关文章」、「版权标识」、「打赏」四个模块。</li>
<li>docs 文章末尾最多可以显示「参考资料」一个模块。</li>
</ul>
<p>除了归档页面是自动生成的，其它独立页面都需要手动创建 md 文件。</p>
<h3 id="归档页面"><a href="#归档页面" class="headerlink" title="归档页面"></a>归档页面</h3><p>归档页面是自动生成的，并且初始化的时候已经生成，路径如下：</p>
<pre><code class="yaml"># Directory
archive_dir: archives
</code></pre>
<h3 id="关于页面"><a href="#关于页面" class="headerlink" title="关于页面"></a>关于页面</h3><pre><code class="yaml">---
layout: docs
seo_title: 关于
bottom_meta: false
sidebar: []
valine:
  placeholder: 有什么想对我说的呢？
---

下面写关于自己的内容
</code></pre>
<h3 id="分类页面"><a href="#分类页面" class="headerlink" title="分类页面"></a>分类页面</h3><pre><code class="yaml">---
layout: category
index: true
title: 所有分类
---
</code></pre>
<h3 id="标签页面"><a href="#标签页面" class="headerlink" title="标签页面"></a>标签页面</h3><pre><code class="yaml">---
layout: tag
index: true
title: 所有标签
---
</code></pre>
<h3 id="列表页面"><a href="#列表页面" class="headerlink" title="列表页面"></a>列表页面</h3><pre><code class="yaml">---
layout: list
group: mylist
index: true
---
</code></pre>
<p>结果就是筛选出所有文章中 <code>front-matter</code> 部分含有 <code>group: mylist</code> 的文章。</p>
<h3 id="友链页面"><a href="#友链页面" class="headerlink" title="友链页面"></a>友链页面</h3><h4 id="创建页面文件"><a href="#创建页面文件" class="headerlink" title="创建页面文件"></a>创建页面文件</h4><pre><code class="yaml">---
layout: friends # 必须
title: 我的朋友们 # 可选，这是友链页的标题
---

这里写友链上方的内容。

&lt;!-- more --&gt;

这里可以写友链页面下方的文字备注，例如自己的友链规范、示例等。
</code></pre>
<h4 id="选择布局方案"><a href="#选择布局方案" class="headerlink" title="选择布局方案"></a>选择布局方案</h4><p>在主题配置文件中找到以下内容：</p>
<pre><code class="yaml">pages:
  # 友链页面配置
  friends:
    layout_scheme: traditional # simple: 简单布局, traditional: 传统布局,  sites: 网站卡片布局
</code></pre>
<p>目前提供三种布局方案：</p>
<ul>
<li>simple: 简单布局，只有头像和标题。</li>
<li>traditional: 传统布局，是 Volantis 旧版本的风格。</li>
<li>sites: 网站卡片布局，是 Volantis 4.x 新增的网站卡片标签的样式。</li>
</ul>
<h4 id="设置数据源"><a href="#设置数据源" class="headerlink" title="设置数据源"></a>设置数据源</h4><p>{% tabs about, 1 %}</p>
<!-- tab 静态数据源 -->

<p>友链的数据源写在以下路径，如果没有请自行创建：</p>
<pre><code>blog/source/_data/friends.yml
</code></pre>
<p>内容格式为：</p>
<pre><code class="yaml">- group: # 分组标题
  description:  # 分组描述
  items:
    - title: # 名称
      avatar: # 头像
      url: # 链接
      screenshot: # 截图
      keywords: # 关键词
      description: # 描述
    - title: # 名称
      avatar: # 头像
      url: # 链接
      screenshot: # 截图
      keywords: # 关键词
      description: # 描述
</code></pre>
<p>不同的布局方式，会用到一部分的字段，一般来说，<code>title</code>、<code>avatar</code> 和 <code>url</code> 都是必须的。这些数据被转成 HTML 标签插入到友链页面的 <code>&lt;!-- more --&gt;</code> 部分。</p>
<!-- endtab -->

<!-- tab 动态数据源 -->

<p>使用 issues 标签可以从 issues 中获取 JSON 数据解析并生成 HTML 填充到页面中，使用方法如下：</p>
<pre><code>{% issues sites | api=https://api.github.com/repos/xaoxuu/friends/issues?sort=updated&amp;state=open&amp;page=1&amp;per_page=100&amp;labels=active %}
</code></pre>
<p>这样添加友链的方式就变成了：对方提 Issue ，自己审核，然后添加 <code>active</code> 标签，然后刷新网页就生效了。更新友链内容也变得十分方便， Issue 的创建者拥有修改和关闭的权限。</p>
<p>新建一个 GitHub 或者 Gitee 仓库，创建 Issues 模板，如下：</p>
<pre><code class="json">{
    &quot;title&quot;: &quot;&quot;,
    &quot;screenshot&quot;: &quot;&quot;,
    &quot;url&quot;: &quot;&quot;,
    &quot;avatar&quot;: &quot;&quot;,
    &quot;description&quot;: &quot;&quot;,
    &quot;keywords&quot;: &quot;&quot;
}
</code></pre>
<p>关于如何使用 issues 标签，详见这篇文章：</p>
<p>{% link 静态博客使用 Issues API 发布动态、友链、书签, <a href="https://xaoxuu.com/blog/2020-08-23-issues-api/">https://xaoxuu.com/blog/2020-08-23-issues-api/</a> %}</p>
<!-- endtab -->

<p>{% endtabs %}</p>
<p>{% noteblock idea, 建议 %}</p>
<ul>
<li>两者是可以同时使用的哦，建议开放 issues 友链给大家，常联系的自己再保存到静态友链。</li>
<li>实测 GitHub API 速度和稳定性不如 Gitee ，如果追求稳定建议使用 Gitee。</li>
</ul>
<p>{% endnoteblock %}</p>
<h3 id="404页面"><a href="#404页面" class="headerlink" title="404页面"></a>404页面</h3><pre><code class="yaml">---
cover: true
robots: noindex,nofollow
sitemap: false
seo_title: 404 Not Found
bottom_meta: false
sidebar: []
valine:
  path: /404.html
  placeholder: 请留言告诉我您要访问哪个页面找不到了
---

{% p logo center huge, 404 %}
{% p center bold, 很抱歉，您访问的页面不存在 %}
{% p center small, 可能是输入地址有误或该地址已被删除 %}
</code></pre>
<h2 id="front-matter"><a href="#front-matter" class="headerlink" title="front-matter"></a>front-matter</h2><p>front-matter 是文件最上方以 <code>---</code> 分隔的区域，用于指定个别文件的变量。更多请见 Hexo 官方文档：<a href="https://hexo.io/zh-cn/docs/front-matter">#front-matter</a></p>
<p>{% table %}<br>| 字段        | 含义         | 值类型        | 默认值 |<br>| :———– | :———— | :————- | :—— |<br>| layout      | 布局模版     | String        | -      |<br>| title       | 页面标题         | String        | -      |<br>| seo_title       | 网页标题         | String        | page.title   |<br>| short_title       | 页面标题（在group列表中显示）         | String        | page.title   |<br>| date        | 创建时间     | Date          | 文件创建时间 |<br>| updated     | 更新日期     | Date          | 文件修改时间 |<br>| link   | 外部文章网址 | String        | -      |<br>| music       | 内部音乐控件 | [Object] | -      |<br>| robots    | robots   | String        | -      |<br>| keywords    | 页面关键词   | String        | -      |<br>| description | 页面描述、摘要     | String        | -      |<br>| cover | 是否显示封面     | Bool        | true      |<br>| top_meta | 是否显示文章或页面顶部的meta信息     | Bool        | true      |<br>| bottom_meta | 是否显示文章或页面底部的meta信息     | Bool        | true      |<br>| sidebar | 页面侧边栏     | Bool, Array        | theme.layout.*.sidebar      |<br>| body | 页面主体元素     | Array        | theme.layout.on_page.body      |<br>| mathjax           | 是否渲染公式 | Bool, String  | false  |<br>| thumbnail           | 缩略图 | String | false  |<br>| icons           | 图标 | Array | []  |<br>| pin           | 是否置顶 | Bool  | false  |<br>| headimg           | 文章头图| url  | - |<br>{% endtable %}</p>
<p><code>layout:post</code> 时特有的字段：</p>
<p>{% table %}<br>| 字段              | 含义         | 值类型        | 默认值 |<br>| :—————– | :———— | :————- | :—— |<br>| author            | 文章作者     | [Object]        | config.author      |<br>| categories        | 分类         | String, Array | -      |<br>| tags               | 标签         | String, Array | -      |<br>| toc               | 是否生成目录 | Bool          | true   |<br>{% endtable %}</p>
<p>music</p>
<p>{% table %}<br>| 字段              | 是否必须         | 值类型      |<br>| :—————– | :———— | :—————– |<br>| server            | 是     | netease, tencent, kugou, xiami, baidu           |<br>| type        | 是         | song, playlist, album, search, artist  |<br>| id               | 是         | song id / playlist id / album id / search keyword   |<br>{% endtable %}</p>
<h3 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h3><p>在 front-matter 中设置以下值：</p>
<pre><code class="yaml">pin: true
</code></pre>
<h3 id="文章分类"><a href="#文章分类" class="headerlink" title="文章分类"></a>文章分类</h3><p>多个分类有两种关系，一种是层级（等同于文件夹），一种是并列（等同于标签）。</p>
<p>多级分类：</p>
<pre><code class="yaml">---
categories: [分类A, 分类B]
---
</code></pre>
<p>或者</p>
<pre><code class="yaml">---
categories:
  - 分类A
  - 分类B
---
</code></pre>
<p>并列分类</p>
<pre><code class="yaml">categories:
  - [分类A]
  - [分类B]
</code></pre>
<p>多级+并列分类</p>
<pre><code class="yaml">categories:
  - [分类A, 分类B]
  - [分类C, 分类D]
</code></pre>
<h3 id="文章摘要"><a href="#文章摘要" class="headerlink" title="文章摘要"></a>文章摘要</h3><p>在文章中插入 <code>&lt;!-- more --&gt;</code>，前面的部分即为摘要。</p>
<pre><code class="yml">---
title: xxx
date: 2020-02-21
---

这是摘要

&lt;!-- more --&gt;

这是正文
</code></pre>
<p>{% note warning, <strong>注意</strong>： <code>&lt;!-- more --&gt;</code> 前后一定要有空行，不然可能导致显示错位。 %}</p>
<h3 id="设置文章作者"><a href="#设置文章作者" class="headerlink" title="设置文章作者"></a>设置文章作者</h3><p>Volantis 支持多个作者在一个站点发布文章，其他作者信息需要写在数据文件中，例如：</p>
<pre><code class="yaml">Jon:
  name: Jon Snow
  avatar: https://cn.bing.com/th?id=AMMS_fc8f99fd41ebd737a71c4e13806db9a0&amp;w=110&amp;h=110&amp;c=7&amp;rs=1&amp;qlt=80&amp;pcl=f9f9f9&amp;cdv=1&amp;dpr=2&amp;pid=16.1
  url: https://gameofthrones.fandom.com/wiki/Jon_Snow
Dany:
  name: Daenerys Targaryen
  avatar: https://tse1-mm.cn.bing.net/th?id=OIP.Yax4wLzIFbcBVUa_RsKywQHaLH&amp;w=80&amp;h=80&amp;c=8&amp;rs=1&amp;qlt=90&amp;dpr=2&amp;pid=3.1&amp;rm=2
  url: https://gameofthrones.fandom.com/wiki/Daenerys_Targaryen
</code></pre>
<p>在文章的 front-matter 中新增 <code>author</code> 即可：</p>
<pre><code class="yaml">---
title: Jon Snow | Game of Thrones Wiki | Fandom
author: Jon
---
</code></pre>
<h3 id="引入外部文章"><a href="#引入外部文章" class="headerlink" title="引入外部文章"></a>引入外部文章</h3><p>利用 <code>link</code>，搭配自定义的文章作者信息，你可以在文章列表中显示外部文章或者网址，例如：</p>
<pre><code class="yaml">xaoxuu:
  name: xaoxuu
  avatar: https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png
  url: https://xaoxuu.com
</code></pre>
<pre><code class="yaml">---
layout:     post
date:       2017-07-05
title:      [转]如何搭建基于Hexo的独立博客
categories: [Dev, Hexo]
tags:
  - Hexo
author: xaoxuu
link: https://xaoxuu.com/blog/2017-07-05-hexo-blog/
---

![](https://img.vim-cn.com/d9/a9af7dc49fc0af8ca3e6dd2450a2f7095a87db.png)
</code></pre>
<h3 id="置顶"><a href="#置顶" class="headerlink" title="置顶"></a>置顶</h3><p>对于任何文章或者页面，设置 <code>pin: true</code> 即可置顶在首页。</p>
<pre><code class="yaml">---
pin: true
---
</code></pre>
<p>这会导致一个小问题：首页 post 卡片数量多于设定值，如果有强迫症希望每一个分页数量一致，可以安装插件来实现，详见：<a href="https://github.com/volantis-x/hexo-theme-volantis/issues/421">#421</a></p>
<h3 id="不归档"><a href="#不归档" class="headerlink" title="不归档"></a>不归档</h3><p>存放在 <code>_posts</code> 文件夹下的文章一般都会出现在归档页，如果某篇文章不希望出现在归档页面：</p>
<pre><code class="yaml">---
archive: false
---
</code></pre>
<h2 id="页面自定义布局"><a href="#页面自定义布局" class="headerlink" title="页面自定义布局"></a>页面自定义布局</h2><h3 id="显示迷你音乐播放器"><a href="#显示迷你音乐播放器" class="headerlink" title="显示迷你音乐播放器"></a>显示迷你音乐播放器</h3><p>标题右边显示迷你音乐播放器，支持的字段有：<code>server</code>、<code>type</code>、<code>id</code>。</p>
<pre><code class="yaml">---
music:
 server: netease   # netease, tencent, kugou, xiami, baidu
 type: song        # song, playlist, album, search, artist
 id: 16846091      # song id / playlist id / album id / search keyword
---
</code></pre>
<p>{% note play, 实际效果见： <a href="/contributors/">#contributors</a> %}</p>
<h3 id="显示-meta-标签"><a href="#显示-meta-标签" class="headerlink" title="显示 meta 标签"></a>显示 meta 标签</h3><p>文章顶部和底部的日期、分类、更新日期、标签、分享等属于 meta 标签。</p>
<pre><code class="yaml">---
top_meta: false
bottom_meta: false
---
</code></pre>
<p>如果一个页面没有 title 则不会显示 top_meta ，像404、关于页面就可以完全隐藏：</p>
<pre><code class="yaml">---
seo_title: 关于
top_meta: false
bottom_meta: false
---
</code></pre>
<h3 id="标题右边显示缩略图"><a href="#标题右边显示缩略图" class="headerlink" title="标题右边显示缩略图"></a>标题右边显示缩略图</h3><pre><code class="yaml">---
thumbnail: https://img.vim-cn.com/17/0c7b02722686d1527a1df807dae0794d995860.png
---
</code></pre>
<p>缩略图仅在文章列表和文章页面显示，不会在归档页面显示。</p>
<h3 id="标题右边显示图标"><a href="#标题右边显示图标" class="headerlink" title="标题右边显示图标"></a>标题右边显示图标</h3><pre><code class="yaml">---
icons: [fas fa-fire red, fas fa-star green]
---
</code></pre>
<p>图标仅在归档页面中显示，可以用来标注热门文章。</p>
<p>{% note info, 可以通过 red / blue / green / yellow / orange / theme / accent 来设置图标的颜色 %}</p>
<h3 id="是否要显示封面"><a href="#是否要显示封面" class="headerlink" title="是否要显示封面"></a>是否要显示封面</h3><p>如果某个页面需要封面，可以这样写：</p>
<pre><code class="yaml">---
cover: true
---
</code></pre>
<h3 id="显示侧边栏"><a href="#显示侧边栏" class="headerlink" title="显示侧边栏"></a>显示侧边栏</h3><p>通过自由设置边栏卡片来删减对应页面的冗余信息，提高有价值的信息在页面中的权重。</p>
<p>如果某个页面不需要侧边栏，可以这样写：</p>
<pre><code class="yaml">---
sidebar: []
---
</code></pre>
<p>某个页面想指定显示某几个侧边栏，就这样写:</p>
<pre><code class="yaml">---
sidebar: [grid, toc, tags] # 放置任何你想要显示的侧边栏部件
---
</code></pre>
<h3 id="关闭评论"><a href="#关闭评论" class="headerlink" title="关闭评论"></a>关闭评论</h3><pre><code class="yaml">---
comments: false
---
</code></pre>
<h2 id="渲染公式"><a href="#渲染公式" class="headerlink" title="渲染公式"></a>渲染公式</h2><p>默认是不渲染的，如果文章内有公式，需要在 front-matter 中设置开启。即便开启了，文章列表中也不会进行渲染，请注意不要把公式写在文章开头。</p>
<pre><code class="md">---
title: 渲染公式（MathJax）
date: 2020-02-23
mathjax: true # false: 不渲染, true: 渲染
---

添加一段描述性文字

&lt;!-- more --&gt;

$$t+1=2$$

$$
\mbox{积累因子}=\begin{cases}
1+ni &amp; \mbox{单利}\\\\
(1+i)^n &amp; \mbox{复利}
\end{cases}
$$

$$
\begin{equation}
\sum_{i=0}^n F_i \cdot \phi (H, p_i) - \sum_{i=1}^n a_i \cdot ( \tilde{x_i}, \tilde{y_i}) + b_i \cdot ( \tilde{x_i}^2 , \tilde{y_i}^2 )
\end{equation}
$$
$$
\begin{equation}
\beta^*(D) = \mathop{argmin} \limits_{\beta} \lambda {||\beta||}^2 + \sum_{i=1}^n max(0, 1 - y_i f_{\beta}(x_i))
\end{equation}
$$
</code></pre>
<p>{% folding 查看公式渲染效果 %}<br>$$t+1=2$$</p>
<p>$$<br>\mbox{积累因子}=\begin{cases}<br>1+ni &amp; \mbox{单利}\\<br>(1+i)^n &amp; \mbox{复利}<br>\end{cases}<br>$$</p>
<p>$$<br>\begin{equation}<br>\sum_{i=0}^n F_i \cdot \phi (H, p_i) - \sum_{i=1}^n a_i \cdot ( \tilde{x_i}, \tilde{y_i}) + b_i \cdot ( \tilde{x_i}^2 , \tilde{y_i}^2 )<br>\end{equation}<br>$$<br>$$<br>\begin{equation}<br>\beta^*(D) = \mathop{argmin} \limits_{\beta} \lambda {||\beta||}^2 + \sum_{i=1}^n max(0, 1 - y_i f_{\beta}(x_i))<br>\end{equation}<br>$$<br>{% endfolding %}</p>
<p>如果公式仍无法正确渲染可以阅读 <a href="https://www.micdz.cn/">@MicDZ</a> 的这篇文章：</p>
<p>{% link 在Material-X上使用KaTeX, <a href="https://www.micdz.cn/article/katex-on-volantis/">https://www.micdz.cn/article/katex-on-volantis/</a>, <a href="https://www.micdz.cn/img/h.jpeg">https://www.micdz.cn/img/h.jpeg</a> %}</p>
